{% extends "base.html" %}
{% load static %}



{% block content %}

<link
      href="{% static 'PNP/css/rooms.css' %}"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="{% static 'PNP/css/detailCours.css' %}"/>
    <nav style="top: 100px; z-index: 9999;">
        <div class="logo">
          <i class="bx bx-menu menu-icon" style="color:black">ici</i>
          <i class='bx bxs-graduation' ></i>
          <span class="logo-name">classroom</span>
        </div>
        <div class="sidebar">
          <div class="logo">
            <i class="bx bx-menu menu-icon"></i>
            <i class='bx bxs-graduation' ></i>
            <span class="logo-name">classroom</span>
          </div>
  
          <div class="sidebar-content">
            <ul class="lists">
              <li class="list">
                <a href="/classroom/" class="nav-link">
                  <i class='bx bx-home-alt'></i>
                  <span class="link">Acceuil</span>
                </a>
              </li>
              <li class="list">
                <a href="#" class="nav-link">
                  <i class='bx bxs-calendar'></i>
                  <span class="link">Agenda</span>
                </a>
              </li>
              <li class="list">
                <a href="/mes_cours" class="nav-link">
                  <i class='bx bxs-graduation'></i>
                  <span class="link">Cours enseignés</span>
                </a>
              </li>
              <li class="list">
                <a href="#" class="nav-link">
                  <i class='bx bxs-graduation'></i>
                  <span class="link">A corriger</span>
                </a>
              </li>
              <li class="list">
                <a href="/classroom/detail_cours/{{cours.code}}" class="nav-link">
                  <div id="userIcon" class="user-icon" style="color: #00838D">{{ cours.name|slice:":1" }}</div>
                  <span class="link">{{ cours.name }}</span>
                </a>
              </li>
              
             
            </ul>
  
            <div class="bottom-cotent">
              <li class="list">
                <a href="" class="nav-link" onclick="goBack()">
                  <i class='bx bxs-caret-left-circle' ></i>
                  <span class="link"> Retour</span>
                </a>
              </li>
              <li class="list">
                <a href="/login" class="nav-link">
                  <i class="bx bx-log-out icon"></i>
                  <span class="link">Logout</span>
                </a>
              </li>
            </div>
          </div>
        </div>
      </nav>
  
    <main class="main">
      <section class="secondary-header">
        <div class="secondary-icon-container">
          <span class="material-icons-outlined">
            <img src="{% static 'PNP/img/verifier.png' %}" alt="">
          </span>
          <span class="secondary-icon-text">To do</span>
        </div>
        <div id="ouvrir-pdf" class="secondary-icon-container">
          <span class="material-icons calender-icon">
            <img src="{% static 'PNP/img/calendrier.png' %}" alt="">
          </span>
          <span   class="secondary-icon-text">Calender</span>
        </div>
        <div class="dropdown">
          <button onclick="toggleDropdown()" class="dropbtn icon-plus">+
          
          </button>
          <div id="myDropdown" class="dropdown-content">
            <a href="/classroom/create/">créer un cour</a>

             <a href="/classroom/rejoindre_cours">Rejoindre un cour</a>
          </div>
      </div>
      
      
      
    </section>
      <section class="card-section">
              
    {% for cours in cours_utilisateur %}
          <!-- First Card -->
          <div class="card">
              <div class="card-header">
                <a href="/classroom/detail_cours/{{ cours.code }}/" class="card-link">
                  <!-- Vérifiez si le nom du cours existe -->
                  {% if cours.name %}
                  <h1 class="subject-name">{{ cours.name }}</h1>
                  {% else %}
                  <h1 class="subject-name">Nom du cours inconnu</h1>
                  {% endif %}
                  
                  <!-- Vérifiez si la classe du cours existe -->
                  {% if cours.class_name %}
                  <h2 class="section">{{ cours.class_name }}</h2>
                  {% else %}
                  <h2 class="section">Classe inconnue</h2>
                  {% endif %}
                  
                  <!-- Vérifiez si le nom de l'enseignant existe -->
                  
                  <h3 class="teacher-name">{{cours.teacher.username}}</h3>
                  
                 <!--<h3 class="teacher-name">Enseignant inconnu</h3>--> 
                
                  
                  <span class="material-icons teacher-icon">
                      <img src="{% static 'PNP/img/network.png' %}" alt="">
                  </span>
              </div>
              <div class="card-body"></div>
              <div class="card-footer">
                  <span class="material-icons-outlined assignment-icon">
                      <img src="{% static 'PNP/img/personne.png' %}" alt="">
                  </span>
                  <span class="material-icons-outlined folder-icon">
                      <img src="{% static 'PNP/img/folder.png' %}" alt="">
                  </span>
              </div>
          </div>
          {% endfor %}
      </section> 
      
    </main>
    <span class="material-icons help-icon"> 
        <img src="{% static 'PNP/img/question.png' %}" alt="">
    </span>
  
  <style>
    .secondary-header{
      position:relative;
    }
    /* Style the dropdown button */
.dropbtn {
  background-color: transparent;
  color: black;
  font-size: 16px;
  border: none;
  cursor: pointer;
}

/* Dropdown content (hidden by default) */
.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

/* Links inside the dropdown */
.dropdown-content a {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}

/* Change color of dropdown links on hover */
.dropdown-content a:hover {
  background-color: #f1f1f1;
}

/* Show the dropdown menu on hover */
.dropdown:hover .dropdown-content {
  display: block;
  position: absolute;
  right:0;
}

/* Change the background color of the dropdown button when the dropdown content is shown */
.dropdown:hover .dropbtn {
  background-color: #f9f9f9;
  
  
}
.icon-plus {
  position: absolute;
  width: 30px;
  height: 30px;
  background-color: #00838D; /* Couleur de fond */
  color: white; /* Couleur de l'icône */
  border-radius: 50%; /* Pour rendre le cercle */
  text-align: center;
  line-height: 30px; /* Pour centrer le texte verticalement */
  font-size: 35px;
  cursor: pointer; /* Curseur pointer au survol */
  right:0;
  
}

  </style>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
  function toggleDropdown() {
    document.getElementById("myDropdown").classList.toggle("show");
  }
  
  // Close the dropdown menu if the user clicks outside of it
  window.onclick = function(event) {
    if (!event.target.matches('.dropbtn')) {
      var dropdowns = document.getElementsByClassName("dropdown-content");
      var i;
      for (i = 0; i < dropdowns.length; i++) {
        var openDropdown = dropdowns[i];
        if (openDropdown.classList.contains('show')) {
          openDropdown.classList.remove('show');
        }
      }
    }
  }
  
  const navBar = document.querySelector("nav"),
    menuBtns = document.querySelectorAll(".menu-icon"),
  
  menuBtns.forEach((menuBtn) => {
    menuBtn.addEventListener("click", () => {
      navBar.classList.toggle("open");
    });
  });

 
  
</script>

</body>
{% endblock %}